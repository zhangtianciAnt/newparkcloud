<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nt.service_BASF.mapper.VehicleinformationMapper.xml">
    <resultMap id="BaseResultMap" type="com.nt.dao_BASF.Vehicleinformation">
        <id column="vehicleinformationid" property="vehicleinformationid" jdbcType="VARCHAR"/>
        <result column="vehiclenumber" property="vehiclenumber" jdbcType="VARCHAR"/>
        <result column="driver" property="driver" jdbcType="VARCHAR"/>
        <result column="driverid" property="driverid" jdbcType="VARCHAR"/>
        <result column="escortname" property="escortname" jdbcType="VARCHAR"/>
        <result column="escortid" property="escortid" jdbcType="VARCHAR"/>
        <result column="vehicletype" property="vehicletype" jdbcType="VARCHAR"/>
        <result column="supplier" property="supplier" jdbcType="VARCHAR"/>
        <result column="transporter" property="transporter" jdbcType="VARCHAR"/>
        <result column="transtype" property="transtype" jdbcType="VARCHAR"/>
        <result column="linkdepartment" property="linkdepartment" jdbcType="VARCHAR"/>
        <result column="goodsname" property="goodsname" jdbcType="VARCHAR"/>
        <result column="weight" property="weight" jdbcType="VARCHAR"/>
        <result column="intime" property="intime" jdbcType="VARCHAR"/>
        <result column="outtime" property="outtime" jdbcType="VARCHAR"/>
        <result column="destination" property="destination" jdbcType="VARCHAR"/>

        <result column="STATUS" property="status" jdbcType="VARCHAR"/>
        <result column="CREATEON" property="createon" jdbcType="TIMESTAMP"/>
        <result column="CREATEBY" property="createby" jdbcType="VARCHAR"/>
        <result column="MODIFYON" property="modifyon" jdbcType="TIMESTAMP"/>
        <result column="MODIFYBY" property="modifyby" jdbcType="VARCHAR"/>
        <result column="Owner" property="owner" jdbcType="VARCHAR"/>
        <result column="TENANTID" property="tenantid" jdbcType="VARCHAR"/>
    </resultMap>
    <!--    获取在场车辆信息一览-->
    <select id="getInsideList" resultType="com.nt.dao_BASF.Vehicleinformation">
        select *
        from vehicleinformation
        where ifnull(outtime,'') = ''
    </select>

    <!--    获取车辆出入统计-->
    <select id="getAccessStatistics" resultType="com.nt.dao_BASF.VO.VehicleAccessStatisticsVo">
        select count(*) as cnt,date_format(intime,'%Y-%m-%d') as date
        from vehicleinformation
        where outtime is not NULL
        group by date_format(intime,'%Y-%m-%d')
    </select>

    <!--    获取当日入场车辆信息-->
    <select id="getDailyVehicleInfo" resultType="com.nt.dao_BASF.Vehicleinformation">
        select *
        from vehicleinformation
        where date_format(intime,'%Y-%m-%d') = curdate()
    </select>
</mapper>