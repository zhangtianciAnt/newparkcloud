<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nt.service_BASF.mapper.PimsPointMapper">

    <resultMap id="PimsPointMap" type="com.nt.dao_BASF.Pimspoint">
        <id property="id" column="id"></id>
        <result property="pimspointname" column="pimspointname"></result>
        <result property="ranges" column="ranges"></result>
        <result property="unit" column="unit"></result>
        <result property="type" column="type"></result>
        <association property="deviceinformation" javaType="com.nt.dao_BASF.Deviceinformation">
            <result property="devicename" column="devicename"></result>
            <result property="deviceno" column="deviceno"></result>
            <result property="mapid" column="mapid"></result>
            <result property="devicetype" column="devicetype"></result>
            <result property="defencearea" column="defencearea"></result>
            <result property="devicestatus" column="devicestatus"></result>
            <result property="gis" column="gis"></result>
            <result property="factoryname" column="factoryname"></result>
        </association>
    </resultMap>

    <select id="getPimsPoint" resultMap="PimsPointMap" resultType="java.lang.String">
        select * from pimspoint
        LEFT JOIN deviceinformation ON deviceinformation.deviceno = pimspoint.id
        where pimspoint.pimspointname in (
        <foreach collection="pimspointMap" item="value" index="key" separator=",">
            #{key}
        </foreach>
        )
    </select>
</mapper>
