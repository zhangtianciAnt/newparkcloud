<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nt.service_pfans.PFANS6000.mapper.VariousfundsMapper">
    <select id="selectBygroupid" resultType="com.nt.dao_Pfans.PFANS6000.Variousfunds">
        SELECT v.*
        FROM `variousfunds` as v
        inner join expatriatesinfor as e
        on v.BPPLAYER = e.EXPNAME
        where  v.YEAR = date_format( concat( #{years}, '-01-01' ) ,'%Y-%m-%d')
        <if test="groupid!=null and groupid !=''">
            and e.GROUP_ID = #{groupid}
        </if>
	</select>
</mapper>
