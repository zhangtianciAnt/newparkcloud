<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nt.service_AOCHUAN.AOCHUAN5000.mapper.FinCrdlInfoMapper">

    <!--  update  -->
    <update id="updKisCrdlNo">
        UPDATE crdlinfo
		SET CRDLKIS_NUM = #{crdlkis_num},
		SET PUSH_STATUS = #{push_status}
		MODIFYBY = #{modifyby},
		MODIFYON = now()
		WHERE CRDLINFO_ID = #{crdlinfo_id}
		AND STATUS != '1'
    </update>

    <!--  delete  -->
    <update id="delCrdlInfoById">
        UPDATE crdlinfo
		SET STATUS = '1',
		MODIFYBY = #{modifyby},
		MODIFYON = now()
		WHERE CRDLINFO_ID = #{crdlinfo_id}
    </update>

	<!--existCheck-->
	<select id="existCheck" resultType="com.nt.dao_AOCHUAN.AOCHUAN5000.CredentialInformation">
        SELECT * FROM crdlinfo WHERE CRDLINFO_ID = #{id} AND  STATUS != '1'
    </select>

	<!--uniqueCheck-->
	<select id="uniqueCheck" resultType="com.nt.dao_AOCHUAN.AOCHUAN5000.CredentialInformation">
        SELECT * FROM crdlinfo 	WHERE CRDLINFO_ID != #{id} AND CRDL_NUM = #{crdl_num} AND STATUS != '1'
    </select>
</mapper>
